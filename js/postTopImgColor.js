function topcolor(){if("post"==document.getElementById("body-wrap").className){var e=document.getElementById("post-cover").src;RGBaster.colors(e,{paletteSize:30,exclude:["rgb(255,255,255)","rgb(0,0,0)"],success:function(e){var t=e.dominant,o=e.secondary;"light"==getContrastColor(t)&&(t=LightenDarkenColor(colorHex(e.dominant),-40),o=LightenDarkenColor(colorHex(e.dominant),-70)),document.body.style.setProperty("--heo-main-color",t),document.styleSheets[0].addRule(":root","--heo-main:"+t+"!important"),document.styleSheets[0].addRule(":root","--heo-main-op:"+t+"23!important"),document.styleSheets[0].addRule(":root","--heo-main-op-deep:"+t+"dd!important"),document.body.style.setProperty("--heo-backnav-color",o)}})}else document.body.style.setProperty("--heo-main-color","rgb(66, 90, 239)"),document.styleSheets[0].addRule(":root","--heo-main: var(--heo-theme)!important"),document.body.style.setProperty("--heo-backnav-color","#031764,#150136,#67044d"),document.styleSheets[0].addRule(":root","--heo-main-op: var(--heo-theme-op)!important"),document.styleSheets[0].addRule(":root","--heo-main-op-deep:var(--heo-theme-op-deep)!important")}function getContrastColor(e){var t,o=colorRgb(e).match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return t=299*o[1]+587*o[2]+114*o[3],(t/=255e3)>=.5?"light":"dark"}function colorHex(e){var t=e;if(/^(rgb|RGB)/.test(t)){for(var o=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),r="#",n=0;n<o.length;n++){var a=Number(o[n]).toString(16);"0"===a&&(a+=a),r+=a}return 7!==r.length&&(r=t),r}if(!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t))return t;var l=t.replace(/#/,"").split("");if(6===l.length)return t;if(3===l.length){var s="#";for(n=0;n<l.length;n+=1)s+=l[n]+l[n];return s}}function colorRgb(e){var t=e.toLowerCase();if(t&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)){if(4===t.length){for(var o="#",r=1;r<4;r+=1)o+=t.slice(r,r+1).concat(t.slice(r,r+1));t=o}var n=[];for(r=1;r<7;r+=2)n.push(parseInt("0x"+t.slice(r,r+2)));return"rgb("+n.join(",")+")"}return t}function LightenDarkenColor(e,t){var o=!1;"#"==e[0]&&(e=e.slice(1),o=!0);var r=parseInt(e,16),n=(r>>16)+t;n>255?n=255:n<0&&(n=0);var a=(r>>8&255)+t;a>255?a=255:a<0&&(a=0);var l=(255&r)+t;return l>255?l=255:l<0&&(l=0),(o?"#":"")+String("000000"+(l|a<<8|n<<16).toString(16)).slice(-6)}topcolor();